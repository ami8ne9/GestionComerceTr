<Window x:Class="GestionComerce.Main.Inventory.WDevisCustomization"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:res="clr-namespace:GestionComerce.Resources"
        Title="{x:Static res:Resources.QuoteCustomization}" 
        Height="750" Width="1000"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="#F8FAFC">

    <Window.Resources>
        <SolidColorBrush x:Key="PrimaryBlue" Color="#3B82F6"/>
        <SolidColorBrush x:Key="AccentCyan" Color="#06B6D4"/>
        <SolidColorBrush x:Key="SuccessGreen" Color="#10B981"/>
        <SolidColorBrush x:Key="SurfaceWhite" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="BorderLight" Color="#E2E8F0"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#0F172A"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#64748B"/>

        <DropShadowEffect x:Key="ShadowMd" BlurRadius="20" ShadowDepth="0" Color="#000000" Opacity="0.06"/>

        <Style x:Key="SectionBorder" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource SurfaceWhite}"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderLight}"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>

        <Style x:Key="CheckBoxStyle" TargetType="CheckBox">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryBlue}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="24,14"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource SurfaceWhite}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderLight}"/>
            <Setter Property="Padding" Value="24,14"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Margin="32">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="24"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="24"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0">
            <TextBlock Text="{x:Static res:Resources.QuoteCustomization}" 
                       FontSize="28" FontWeight="Bold"
                       Foreground="{StaticResource TextPrimary}"/>
            <TextBlock Text="{x:Static res:Resources.SelectInfoForQuote}" 
                       FontSize="14"
                       Foreground="{StaticResource TextSecondary}"
                       Margin="0,8,0,0"/>
        </StackPanel>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="24"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Column -->
                <StackPanel Grid.Column="0">
                    <!-- Company Information Section -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.CompanyInfoSection}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowLogoCheckBox" 
                                      Content="{x:Static res:Resources.CompanyLogo}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowCompanyNameCheckBox" 
                                      Content="{x:Static res:Resources.CompanyNameLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowICECheckBox" 
                                      Content="{x:Static res:Resources.ICELabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowVATCheckBox" 
                                      Content="{x:Static res:Resources.VATTVALabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowCompanyIdCheckBox" 
                                      Content="{x:Static res:Resources.CompanyIDLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowEtatJuridicCheckBox" 
                                      Content="{x:Static res:Resources.LegalStatusLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowSiegeCheckBox" 
                                      Content="{x:Static res:Resources.CompanyHeadquarters}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowTelephoneCheckBox" 
                                      Content="{x:Static res:Resources.PhoneLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowAdresseCheckBox" 
                                      Content="{x:Static res:Resources.Address}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                        </StackPanel>
                    </Border>

                    <!-- Article Fields Section -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.ArticleColumns}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowCodeCheckBox" 
                                      Content="{x:Static res:Resources.ArticleCodeLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowArticleNameCheckBox" 
                                      Content="{x:Static res:Resources.ArticleNameRequired}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowQuantityCheckBox" 
                                      Content="{x:Static res:Resources.QuantityLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowUnitPriceCheckBox" 
                                      Content="{x:Static res:Resources.UnitPriceLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowTotalPriceCheckBox" 
                                      Content="{x:Static res:Resources.TotalPrice}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowTVACheckBox" 
                                      Content="{x:Static res:Resources.TVAPercent}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowFamilleCheckBox" 
                                      Content="{x:Static res:Resources.FamilyCategoryLabel}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowFournisseurCheckBox" 
                                      Content="{x:Static res:Resources.SupplierLabel}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowMarqueCheckBox" 
                                      Content="{x:Static res:Resources.Brand}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowLotCheckBox" 
                                      Content="{x:Static res:Resources.BatchNumberLabel}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowBonLivraisonCheckBox" 
                                      Content="{x:Static res:Resources.DeliveryNoteLabel}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowExpirationCheckBox" 
                                      Content="{x:Static res:Resources.ExpirationDateLabel}" 
                                      IsChecked="False" Style="{StaticResource CheckBoxStyle}"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Right Column -->
                <StackPanel Grid.Column="2">
                    <!-- Devis Information Section -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.QuoteInfoSection}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowDevisNumberCheckBox" 
                                      Content="{x:Static res:Resources.QuoteNumberLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowDevisDateCheckBox" 
                                      Content="{x:Static res:Resources.QuoteDateLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowValidityCheckBox" 
                                      Content="{x:Static res:Resources.QuoteValidityLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>

                            <TextBlock Text="{x:Static res:Resources.ValidityDaysLabel}" 
                                       FontSize="13"
                                       Foreground="{StaticResource TextSecondary}"
                                       Margin="24,8,0,4"/>
                            <TextBox x:Name="ValidityDaysTextBox"
                                     Text="30" Width="100" Height="36" Padding="8" FontSize="14"
                                     HorizontalAlignment="Left" Margin="24,0,0,12"/>
                        </StackPanel>
                    </Border>

                    <!-- Client Information Section -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.ClientInfoSection}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowClientSectionCheckBox" 
                                      Content="{x:Static res:Resources.ShowClientSection}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"
                                      Checked="ClientSection_CheckChanged"
                                      Unchecked="ClientSection_CheckChanged"/>

                            <StackPanel x:Name="ClientFieldsPanel" Margin="24,0,0,0">
                                <TextBlock Text="{x:Static res:Resources.ClientNameLabel}" 
                                           FontSize="13" Foreground="{StaticResource TextSecondary}" Margin="0,0,0,4"/>
                                <TextBox x:Name="ClientNameTextBox" Text="" Height="36" Padding="8" FontSize="14" Margin="0,0,0,12"/>

                                <TextBlock Text="{x:Static res:Resources.ClientICELabel}" 
                                           FontSize="13" Foreground="{StaticResource TextSecondary}" Margin="0,0,0,4"/>
                                <TextBox x:Name="ClientICETextBox" Text="" Height="36" Padding="8" FontSize="14" Margin="0,0,0,12"/>

                                <TextBlock Text="{x:Static res:Resources.ClientAddressLabel}" 
                                           FontSize="13" Foreground="{StaticResource TextSecondary}" Margin="0,0,0,4"/>
                                <TextBox x:Name="ClientAddressTextBox" Text="" Height="36" Padding="8" FontSize="14" Margin="0,0,0,12"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Totals Section -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.TotalsSection}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowSubtotalCheckBox" 
                                      Content="{x:Static res:Resources.SubtotalHT}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowTVATotalCheckBox" 
                                      Content="{x:Static res:Resources.TotalTVALabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                            <CheckBox x:Name="ShowGrandTotalCheckBox" 
                                      Content="{x:Static res:Resources.TotalTTCLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"/>
                        </StackPanel>
                    </Border>

                    <!-- Additional Options -->
                    <Border Style="{StaticResource SectionBorder}">
                        <StackPanel>
                            <TextBlock Text="{x:Static res:Resources.AdditionalOptions}" 
                                       FontSize="16" FontWeight="SemiBold"
                                       Foreground="{StaticResource TextPrimary}"
                                       Margin="0,0,0,16"/>

                            <CheckBox x:Name="ShowNotesCheckBox" 
                                      Content="{x:Static res:Resources.NotesSectionCheck}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"
                                      Checked="NotesSection_CheckChanged"
                                      Unchecked="NotesSection_CheckChanged"/>

                            <TextBox x:Name="NotesTextBox"
                                     Text="{x:Static res:Resources.ThankYouMessage}"
                                     Height="80" Padding="8" FontSize="13"
                                     TextWrapping="Wrap" AcceptsReturn="True"
                                     VerticalScrollBarVisibility="Auto"
                                     Margin="24,0,0,12"/>

                            <CheckBox x:Name="ShowPaymentTermsCheckBox" 
                                      Content="{x:Static res:Resources.PaymentTermsLabel}" 
                                      IsChecked="True" Style="{StaticResource CheckBoxStyle}"
                                      Checked="PaymentTerms_CheckChanged"
                                      Unchecked="PaymentTerms_CheckChanged"/>

                            <TextBox x:Name="PaymentTermsTextBox"
                                     Text="{x:Static res:Resources.Payment30Days}"
                                     Height="36" Padding="8" FontSize="13"
                                     Margin="24,0,0,0"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>
        </ScrollViewer>

        <!-- Actions -->
        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="{x:Static res:Resources.Back}"
                    Width="140" Height="48"
                    Style="{StaticResource SecondaryButtonStyle}"
                    Click="Back_Click"
                    Margin="0,0,12,0"/>
            <Button x:Name="GenerateButton"
                    Content="{x:Static res:Resources.GenerateQuote}"
                    Width="200" Height="48"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Click="Generate_Click">
                <Button.Background>
                    <SolidColorBrush Color="#10B981"/>
                </Button.Background>
            </Button>
        </StackPanel>
    </Grid>
</Window>
